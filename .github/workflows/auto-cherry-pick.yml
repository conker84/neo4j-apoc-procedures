name: APOC Auto Cherry Picking
on:
  pull_request:
    types: [closed]
    branches:
      - '4.3'
jobs:
  cherry-pick:
    strategy:
      fail-fast: false
      matrix:
        target-branch: ['4.1', '4.2']
    runs-on: ubuntu-latest
    name: cherry-pick
    if: github.event.pull_request.merged == true
    steps:
      - name: checkout
        uses: actions/checkout@v1
      - name: Create PR to branch ${{ matrix.target-branch }}
        uses: conker84/github-action-cherry-pick@0.1.1
        with:
          pr_branch: ${{ matrix.target-branch }}
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          #          GITBOT_EMAIL: <BOT_EMAIL>
          DRY_RUN: false